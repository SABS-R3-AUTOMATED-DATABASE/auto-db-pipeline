<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ABDB.ABDB_updater.IMGT.IMGT</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="ABDB-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="ABDB-module.html">Package&nbsp;ABDB</a> ::
        <a href="ABDB.ABDB_updater-module.html">Package&nbsp;ABDB_updater</a> ::
        <a href="ABDB.ABDB_updater.IMGT-module.html">Module&nbsp;IMGT</a> ::
        Class&nbsp;IMGT
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class IMGT</h1><p class="nomargin-top"><span class="codelink"><a href="ABDB.ABDB_updater.IMGT-pysrc.html#IMGT">source&nbsp;code</a></span></p>
<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ABDB.ABDB_updater.IMGT.IMGT-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Regular expressions for parsing the imgt website.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ABDB.ABDB_updater.IMGT-pysrc.html#IMGT.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="InitialDownload"></a><span class="summary-sig-name">InitialDownload</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">output</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ABDB.ABDB_updater.IMGT-pysrc.html#IMGT.InitialDownload">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="ParseOutput"></a><span class="summary-sig-name">ParseOutput</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">file</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ABDB.ABDB_updater.IMGT-pysrc.html#IMGT.ParseOutput">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="GetAli"></a><span class="summary-sig-name">GetAli</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">name</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ABDB.ABDB_updater.IMGT-pysrc.html#IMGT.GetAli">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="AliParse"></a><span class="summary-sig-name">AliParse</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">name</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ABDB.ABDB_updater.IMGT-pysrc.html#IMGT.AliParse">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="parsedetails"></a><span class="summary-sig-name">parsedetails</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">details</span>)</span><br />
      Take the details parsed from the imgt html and interpret them into 
      annotation.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ABDB.ABDB_updater.IMGT-pysrc.html#IMGT.parsedetails">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ABDB.ABDB_updater.IMGT.IMGT-class.html#load_imgt_genes" class="summary-sig-name">load_imgt_genes</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">dbpath</span>)</span><br />
      Load the imgt gene data stored in the database.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ABDB.ABDB_updater.IMGT-pysrc.html#IMGT.load_imgt_genes">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ABDB.ABDB_updater.IMGT.IMGT-class.html#assign_imgt" class="summary-sig-name">assign_imgt</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">sequence</span>,
        <span class="summary-sig-arg">gene</span>,
        <span class="summary-sig-arg">chain</span>,
        <span class="summary-sig-arg">species</span>=<span class="summary-sig-default"><code class="variable-group">[</code><code class="variable-group">]</code></span>)</span><br />
      Function to manually assign imgt annotations to a sequence.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ABDB.ABDB_updater.IMGT-pysrc.html#IMGT.assign_imgt">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="ABDB.ABDB_updater.IMGT.IMGT-class.html#fetch" class="summary-sig-name">fetch</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">code</span>)</span><br />
      Fetch gene annotations from imgt.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="ABDB.ABDB_updater.IMGT-pysrc.html#IMGT.fetch">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ABDB.ABDB_updater.IMGT-pysrc.html#IMGT.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Regular expressions for parsing the imgt website.</p>
  <p>Beware - IMGT does not update as regularly as we do and they change 
  the way they lay out the html from time to time. As a result, we are 
  unlikely to get annotations for new structures - an update for 
  unannotated structures will be needed periodically when they do update. 
  If they change the html somehow the regular expressions will also stop 
  working (without warning...). Test added to get the details of a pdb we 
  have been able to get for before (12e8).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>allow_abdb_assignment</code></strong> (<code>bool</code>) - Allow the fetch method to assign imgt annotations using the 
          ABDB.IMGT database if IMGT does not have the entry.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="load_imgt_genes"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">load_imgt_genes</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">dbpath</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ABDB.ABDB_updater.IMGT-pysrc.html#IMGT.load_imgt_genes">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Load the imgt gene data stored in the database.</p>
  <p>The sequences have been taken from imgt 
  http://www.imgt.org/3Dstructure-DB/cgi/DomainDisplay.cgi and parsed into 
  species directories and gene type files for V J C genes</p>
  <p>We have annotated sequences for the variable amino acid sequences. We 
  have sequences for the J and C genes.</p>
  <p>Only the IG genes are loaded here.</p>
  <p>Each allele has a unique identifier.</p>
  <p>IMGT.imgt_database is a dictionary with gene types as keys. Eg. VH VL 
  C-KAPPA V-LAMBDA etc.</p>
  <p>Each value is a list of allele-sequence dictionaries.</p>
  <p>Test your sequence against these allele libraries to identify the best
  match</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>dbpath</code></strong> - The path to the database ( directory ABDB)</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="assign_imgt"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">assign_imgt</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">sequence</span>,
        <span class="sig-arg">gene</span>,
        <span class="sig-arg">chain</span>,
        <span class="sig-arg">species</span>=<span class="sig-default"><code class="variable-group">[</code><code class="variable-group">]</code></span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ABDB.ABDB_updater.IMGT-pysrc.html#IMGT.assign_imgt">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Function to manually assign imgt annotations to a sequence. This is to
  be used only when we are unable to find annotations on the imgt 
  webserver. This is the case when:</p>
  <ol start="1">
    <li>
      IMGT has not done an update recently (or at least not as recent as 
      ABDB)
    </li>
    <li>
      If the structure is not contained within the IMGT database (fairly 
      frequent)
    </li>
    <li>
      IMGT change their html layout (add a check to see if we can get 
      something we know is there)
    </li>
    <li>
      In future for proprietary structures/sequences which cannot be sent 
      externally.
    </li>
  </ol>
  <p>Domain definitions were downloaded and parsed from imgt website on 
  14/05/13 This give us a set of genes with which to compare a sequence 
  to.</p>
  <p>For a sequence, we should be able to assign variable, joining and, if 
  present, constant gene annotations.</p>
  <p>This will be done by doing a pairwise alignment with the appropriate 
  gene type using either:</p>
  <ol start="1">
    <li>
      Abnum (variable genes)
    </li>
    <li>
      Muscle (Constant genes and joining genes)
    </li>
  </ol>
  <p>The allele with the highest sequence matched sequence identity will be
  assigned.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>sequence</code></strong> (<code>dict</code> or <code>seq</code>) - The sequence of the antibody chain - this should be annotated 
          dictionary if gene is either v or j, or a string if gene is c.</li>
        <li><strong class="pname"><code>gene</code></strong> (<code>str</code>) - v, j or c</li>
        <li><strong class="pname"><code>chain</code></strong> (<code>str</code>) - either H or L</li>
        <li><strong class="pname"><code>species</code></strong> - A list of potential species names</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="fetch"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">fetch</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">code</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="ABDB.ABDB_updater.IMGT-pysrc.html#IMGT.fetch">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Fetch gene annotations from imgt. We get V J and C genes and output 
  the to file if they are present.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="ABDB-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Fri Jul  3 12:03:46 2015
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
